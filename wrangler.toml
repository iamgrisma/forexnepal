# Cloudflare Workers configuration for forexnepal.com
name = "forexnepal"
main = "src/worker.ts"
compatibility_date = "2024-01-01"

# D1 Database binding
[[d1_databases]]
binding = "FOREX_DB"
database_name = "forex-rates"
database_id = "05ede330-5c35-4aee-8843-6c3527817925" # Replace with your actual D1 database ID

# KV namespace for static assets
[[kv_namespaces]]
binding = "__STATIC_CONTENT"
id = "YOUR_KV_NAMESPACE_ID" # Replace with your actual KV namespace ID

# KV namespace for API settings cache
[[kv_namespaces]]
binding = "API_SETTINGS_CACHE"
id = "YOUR_NEW_API_SETTINGS_KV_ID" # Your ID for the API cache

[triggers]
crons = ["15 18 * * *", "35 18 * * *", "15 23 * * *"]

[site]
bucket = "./dist"

[build]
command = "npm run build"

[build.upload]
format = "service-worker"
[vars]
JWT_SECRET = "a-quick-br0wn-f0x+jump$0verThelazydog=-=-3443434324832423849329874fdshasdlfa---==-+++@#$%^oeuhsfaehdofasd"
